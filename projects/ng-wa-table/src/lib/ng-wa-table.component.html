<div class="mainContainer" [style.--mainContainerPadding]="mainContainerPadding" >
  <div class="tab-content">
    <div class="" style="padding-top: 20px">
      <div class="card col-md-12">
        <!-- Filters -->
        <div class="row " id="inputRow">
          <div class="col-md-12 filter-btn d-flex align-content-center" style="margin-left: 12px;"
            [style.padding.px]="!filterSearchAvailability ? '0' : ''" appShowHide>
            <!-- Filter button -->
            <div *ngIf="filterAvailability" class=" p-2">
              <button type="button" class="btn-filter" data-toggle="collapse" data-target="#filterCollapseTwo"
                aria-expanded="false" aria-controls="collapseExample" (click)=onShowFilter()>
                <i class="fas fa-filter"></i>
                Filters
              </button>
            </div>
            <!-- Search Input -->
            <div *ngIf="filterSearchAvailability" class="mr-auto p-2 col-sm-6  has-search">
              <div class="form-control-feedback ">
                <i class="fas fa-search"></i>
                <input class="form-control search-filter" [style.--searchBarColor]="searchBarColor" type="text" placeholder="Search" (keyup)="onSearchItems($event)">

              </div>
            </div>
          </div>
          <!-- Filter Options -->
          <div *ngIf="filterAvailability"  class="collapse" id="filterCollapseTwo">
            <div class="">
              <div class="tableFilterBox" style="overflow: hidden;
            margin: 0 0 10px 16px;
            width: 900px;">
                <label class="filterLbl" for="menuName">Filters</label>
                <div class="row filtersRow">
                  <div class="col-md-12 filterComponent">
  
                    <diV class="row second-row-filter">
                      <div class="scrolling-wrapper">
                        <div class="card">
                          <button
                            [ngClass]="categoryActive === 0  ? 'categories-filter-all-button-active' : 'categories-filter-all-button-inactive'"
                            (click)="onCategoryPressed(0)">
                            All</button>
                        </div>
  
                        <div class="card" *ngFor="let category of categories">
                          <button
                            [ngClass]="categoryActive === category.id  ? 'categories-filter-button-active' : 'categories-filter-button-inactive'"
                            (click)="onCategoryPressed(category.id)">
                            {{category.title}}</button>
  
                        </div>
                      </div>
                    </diV>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- table -->
        <div class="row">
          <div class="col-md-12 table-responsive"
            [style.height.vh]="!isFilterClicked ? filterNotClickTableHeight : filterClickTableHeight"
            style="padding: 0; margin: 0; ">
            <table class="table customerTable" style="border-spacing: 0px !important;">
              <thead style="border-spacing: 0px !important;">
                <tr>
                  <!-- Table Heading -->
                  <th scope="col" *ngFor="let field of tableHeaders"  [style.--tableHeaderColor]="tableHeaderColor" [style.--fontSize]="headerFontSize" 
                  [ngClass]="field.classType ">{{field.header}}
  
                    <div *ngIf="field.header == 'POS Actions'" style="display: inline;">
                      <img src="./../assets/icons/help.png" id="navitem" width="16px" height="16px" alt=""
                        loading="lazy" style="margin: 0px 5px ;" data-toggle="tooltip" title="You sync items with POS">
                    </div>
                    <div *ngIf="field.checkbox" class="custom-control custom-checkbox" id="checkbox" appTableAction
                      [policies]="policies">
                      <input type="checkbox" class="custom-control-input itemCheck" [checked]="isAllSelected"
                        id="allCheck" (click)="selectAll()">
                      <label class="custom-control-label lblCheckbox" id="labelCheckbox" for="allCheck"></label>
                    </div>
                    <div *ngIf="field.sort" (click)="onItemSort()">
                      <div *ngIf="tableData.length!=0 && isDataLoaded" style="display: flex;
                          position: absolute;
                          top: 0;
                          right: 68px;
                          flex-direction: column;">
                        <span style="padding-left: 10px;"> 
                          <i class="fal fa-sort-up"></i>
  
                        </span>
                        <span *ngIf="!sortName_dsc || !sortName_asc" style="padding-left: 10px;">
                          <i class="fal fa-sort-down"></i>
  
                        </span>
                      </div>
                      <span *ngIf="sortName_asc" style="display: flex;
                        position: absolute;
                        top: 2px;
                        right: 68px;
                        flex-direction: column;"> 
                        <i class="fas fa-sort-up"></i>
                      </span>
                      <span *ngIf="!sortName_asc && sortName_dsc" style="display: flex;
                        position: absolute;
                        bottom: 4px;
                        right: 68px;
                        flex-direction: column;">
                          <i class="fas fa-sort-down"></i>
                        </span> 
                    </div>
                    <div *ngIf=" field.type === 'Action'"  
                      [ngClass]="field.classType">
                      Actions
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <!-- Loader -->
                <tr *ngIf="!isDataLoaded">
                  <td colspan="12">
                    <ngx-skeleton-loader class="skelton-tiles" count="4" [theme]="{ 
                          'border-radius': '0px',
                          height: '50px',
                          width:'25%'
                        }">
                    </ngx-skeleton-loader>
                  </td>
                </tr>
                <ng-container *ngIf="isDataLoaded && tableData.length !=0; else elseBlockUser">
                  <tr *ngFor="let data of tableData let idx = index">
  
                    <td scope="row" *ngFor="let key of tableColumns" [ngClass]='key.classType' class="tableData" [style.--bodyFontSize]="bodyFontSize" >
  
                      <ng-container *ngIf="key.type == 'String'">
                        {{data[key.header]}}
                      </ng-container>
                      <!-- checkbox -->
                      <ng-container *ngIf="key.type == 'Checkbox'">
                        <div class="custom-control custom-checkbox" id="checkbox" appTableAction [policies]="policies">
  
                          <input type="checkbox" class="custom-control-input itemCheck"
                            [checked]="(selectedItems.indexOf(data[key.header])) != -1" id="{{data[key.header]}}"
                            (change)="onSelectItem(data, $event)">
                          <label class="custom-control-label lblCheckbox" id="labelCheckbox"
                            for="{{data[key.header]}}"></label>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="key.type == 'Image'">
                        <img src="{{data[key.header]}}" id="navitem" width="36px" alt="" loading="lazy"
                          routerLink="/profile">
                      </ng-container>
                      <ng-container *ngIf="key.type == 'Boolean'">
                        {{key.check(data[key.header])}}
  
                      </ng-container>
                      <ng-container *ngIf="key.type == 'Array'">
                        {{key.check(data[key.header])}}
                      </ng-container>
                      <ng-container *ngIf="key.type == 'Status'">
                        <div [ngClass]="data[key.header] == 'Active' ? 'statusLableActive' : 'statusLableInActive' ">
                          {{data[key.header]}}
                        </div>
                      </ng-container>
                      <ng-container *ngIf="key.header == 'action'">
                        <div class="actions-set" >
                          <a class=" btnAction" >
                            <i class="fas fa-pen"  (click)="onClickAction('Edit', data)"></i>
                            <!-- <img src={{action.image}} class="btnAction" (click)="onClickAction(action.type, data)"
                              width="16px" height="18px" alt="" loading="lazy"> -->
                          </a>
                          <a class=" btnAction" >
                            <i class="fas fa-trash" (click)="onClickAction('Delete', data)"></i>
                            <!-- <img src={{action.image}} class="btnAction" (click)="onClickAction(action.type, data)"
                              width="16px" height="18px" alt="" loading="lazy"> -->
                          </a>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="key.type == 'Switch'">
                        <div class="switch">
                          <ui-switch size="small" switchColor="white" color="#00c10b" [(ngModel)]="data[key.header]"
                            [disabled]="!toggleAccess" (changeEvent)="onChangeAccept(key.header, data, data[key.header])"
                            defaultBgColor="white" uncheckedLabel="Off" checkedLabel="On" checkedTextColor="white"
                            defaultBoColor="#cccccc">
                          </ui-switch>
                        </div>
                      </ng-container>
                    </td>
                  </tr>
                </ng-container>
                <!-- No tableData -->
                <ng-template #elseBlockUser>
                  <tr *ngIf="isDataLoaded" style="line-height: 60px;">
                    <td style="text-align: center;" colspan="10">{{noItemsAvailable}}</td>
                  </tr>
                </ng-template>
              </tbody>
            </table>
  
          </div>
          <!-- Pagination -->
          <div class="paginationFooter col-md-12" *ngIf="pages && pages.length > 1">
              <div class="pagination-left"></div>
              <div class="pagination-text">
                Rows per page: 10
              </div>
              <div class="pagination-dropdown pagination-text btn-group">
                <a class="" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  {{currentPage}} of {{pages.length}}
                </a>
              </div>
  
              <div *ngIf="pages" class="pagination-right">
                <nav *ngIf="pages.length > 1" aria-label="Page navigation example">
              
                  <ul class="pagination justify-content-end">
                    <li class="page-item" [class.disabled]="currentPage === 1 ? true : false"  aria-disabled="currentPage === 1 ? true : false" style="padding-right: 10px;">
                      <a class="page-link cursor"   (click)="getPages(currentPage-1)">
                        <img src="./assets/icons/arrow-left.png">
                      </a>
                    </li>
                    <li *ngFor="let page of visiblePages " [ngClass]="page == currentPage ? 'page-item active' : 'page-item' ">
                      <a class="page-link cursor" (click)="getPages(page)">{{page}}</a>
                    </li>
                    <li class="page-item" [class.disabled]="currentPage === pages.length ? true : false" aria-disabled="currentPage === pages.length ? true : false" style="padding-left: 10px;">
                      <a class="page-link cursor" (click)="getPages(currentPage+1)">
                        <img src="./assets/icons/arrow-right.png">
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>